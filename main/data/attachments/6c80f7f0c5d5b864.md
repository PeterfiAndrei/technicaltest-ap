# Test info

- Name: Contact Form Tests >> Contact page response within 1s
- Location: /home/runner/work/technicaltest-ap/technicaltest-ap/tests/performance/contact.performance.spec.ts:21:9

# Error details

```
Error: page.goto: net::ERR_ABORTED; maybe frame was detached?
Call log:
  - navigating to "https://tokero.dev/fr/contact", waiting until "load"

    at ContactPage.goto (/home/runner/work/technicaltest-ap/technicaltest-ap/tests/pages/ContactPage.ts:74:25)
    at /home/runner/work/technicaltest-ap/technicaltest-ap/tests/performance/contact.performance.spec.ts:34:27
```

# Test source

```ts
   1 | import {Page, Locator, expect} from '@playwright/test';
   2 |
   3 | export class ContactPage {
   4 |     // Header locators
   5 |     private contactUs: Locator;
   6 |     private contactUsSubheader: Locator;
   7 |     private contactUsDescription: Locator;
   8 |     private frequentlyAskedQuestions: Locator;
   9 |
   10 |
   11 |     // Form field locators
   12 |     private reasonDropdown: Locator
   13 |     private nameField: Locator
   14 |     private emailField: Locator
   15 |     private phoneField: Locator
   16 |     private messageField: Locator
   17 |     private createTicketCheckbox: Locator
   18 |     private confirmTCCheckbox: Locator
   19 |     private submitBtn: Locator
   20 |     private successMessage: Locator
   21 |     // Label locators
   22 |     private reasonLabel: Locator;
   23 |     private nameLabel: Locator;
   24 |     private emailLabel: Locator;
   25 |     private phoneLabel: Locator;
   26 |     private messageLabel: Locator;
   27 |     private createTicketLabel: Locator;
   28 |     private confirmTCLabel: Locator;
   29 |     private reasonOptionsList: Locator;
   30 |     // form error message
   31 |     private formReasonError: Locator;
   32 |     private formNameError: Locator;
   33 |     private formEmailError: Locator;
   34 |     private formPhoneError: Locator;
   35 |     private messageError: Locator;
   36 |     private termsError: Locator;
   37 |
   38 |     constructor(private page: Page) {
   39 |         // Header locators
   40 |         this.contactUs = page.locator('.container .mb-4').nth(0)
   41 |         this.contactUsSubheader = page.locator('.container .mb-4').nth(1)
   42 |         this.contactUsDescription = page.locator('.container .mb-3.text-lg')
   43 |         this.frequentlyAskedQuestions = page.locator('[classname="alt-header py-4"]')
   44 |
   45 |         // Form field locators
   46 |         this.reasonDropdown = page.getByTestId("contact-form-reasons");
   47 |         this.nameField = page.getByTestId("contact-form-name");
   48 |         this.emailField = page.getByTestId("contact-form-email");
   49 |         this.phoneField = page.getByTestId("contact-form-phone");
   50 |         this.messageField = page.getByTestId("contact-form-message");
   51 |         this.createTicketCheckbox = page.getByTestId("contact-form-zendesk");
   52 |         this.confirmTCCheckbox = page.getByTestId("contact-form-terms")
   53 |         this.submitBtn = page.getByTestId("contact-form-submitBtn");
   54 |         this.successMessage = page.getByTestId('contact-form-success');
   55 |         // Label locators
   56 |         this.reasonLabel = page.locator(".mt-1 .mb-4.mt-6:nth-of-type(1)")
   57 |         this.nameLabel = page.locator(".mt-1 .mb-4.mt-6:nth-of-type(2)")
   58 |         this.emailLabel = page.locator(".mt-1 .mb-4.mt-6:nth-of-type(3)")
   59 |         this.phoneLabel = page.locator(".mt-1 .mb-4.mt-6:nth-of-type(4) .text-base")
   60 |         this.messageLabel = page.locator(".mt-1 .mb-4.mt-6:nth-of-type(5)  .mud-input-label.text-base")
   61 |         this.createTicketLabel = page.locator('.mud-checkbox:nth-of-type(1) .mud-typography').first();
   62 |         this.confirmTCLabel = page.locator('.mud-checkbox:nth-of-type(1) .mud-typography').nth(1);
   63 |         this.reasonOptionsList = page.locator('.mud-list [tabindex="0"]');
   64 |         // form error message
   65 |         this.formReasonError = page.getByTestId('contact-form-reasons-error');
   66 |         this.formNameError = page.getByTestId('contact-form-name-error');
   67 |         this.formEmailError = page.getByTestId('contact-form-email-error');
   68 |         this.formPhoneError = page.getByTestId('contact-form-phone-error');
   69 |         this.messageError = page.getByTestId('contact-form-message-error');
   70 |         this.termsError = page.locator('.container .mud-typography.mud-error-text');
   71 |     }
   72 |
   73 |     async goto(langCode: string) {
>  74 |         await this.page.goto(`/${langCode}/contact`);
      |                         ^ Error: page.goto: net::ERR_ABORTED; maybe frame was detached?
   75 |     }
   76 |
   77 |     async fillForm({
   78 |                        reason = '',
   79 |                        name = '',
   80 |                        email = '',
   81 |                        phone = '',
   82 |                        message = '',
   83 |                        createTicket = false,
   84 |                        confirmTC = false,
   85 |                    }: {
   86 |         reason?: string;
   87 |         name?: string;
   88 |         email?: string;
   89 |         phone?: string;
   90 |         message?: string;
   91 |         createTicket?: boolean;
   92 |         confirmTC?: boolean;
   93 |     }) {
   94 |         if (reason) {
   95 |             await this.reasonDropdown.click();
   96 |             await this.reasonOptionsList.filter({ hasText: reason }).first().click();
   97 |         }
   98 |         if (name) await this.nameField.fill(name);
   99 |         if (email) await this.emailField.fill(email);
  100 |         if (phone) await this.phoneField.fill(phone);
  101 |         if (message) await this.messageField.fill(message);
  102 |         if (createTicket) await this.createTicketCheckbox.check();
  103 |         if (confirmTC) await this.confirmTCCheckbox.check();
  104 |     }
  105 |
  106 |     async submit() {
  107 |         await this.submitBtn.click();
  108 |     }
  109 |
  110 |     async verifyTexts(texts: { [key: string]: { value: string; attribute?: string; locator?: string } }) {
  111 |         for (const [key, { value, attribute, locator }] of Object.entries(texts)) {
  112 |             const element = locator ? this.page.locator(locator) : this.getLocator(key);
  113 |             if (attribute) {
  114 |                 await expect(element).toHaveAttribute(attribute, value);
  115 |             } else {
  116 |                 // Normalize text by trimming and collapsing multiple spaces/newlines
  117 |                 const normalizedText = await element.textContent().then(text => text?.trim().replace(/\s+/g, ' '));
  118 |                 await expect(normalizedText).toBe(value);
  119 |             }
  120 |         }
  121 |     }
  122 |
  123 |     async verifyFormFieldsVisible() {
  124 |         await expect(this.reasonDropdown).toBeVisible();
  125 |         await expect(this.nameField).toBeVisible();
  126 |         await expect(this.emailField).toBeVisible();
  127 |         await expect(this.phoneField).toBeVisible();
  128 |         await expect(this.messageField).toBeVisible();
  129 |         await expect(this.createTicketCheckbox).toBeVisible();
  130 |         await expect(this.confirmTCCheckbox).toBeVisible();
  131 |         await expect(this.submitBtn).toBeVisible();
  132 |     }
  133 |
  134 |     async verifyReasonOptions(options: string[]) {
  135 |         await this.reasonDropdown.click()
  136 |         let i = 0
  137 |         for (const option of options) {
  138 |             await expect(this.reasonOptionsList.nth(i)).toContainText(option);
  139 |             i++
  140 |         }
  141 |     }
  142 |
  143 |     getSuccessMessage() {
  144 |         return this.successMessage;
  145 |     }
  146 |
  147 |     getTermsErrorMessage() {
  148 |         return this.termsError;
  149 |     }
  150 |
  151 |     private getLocator(key: string): Locator {
  152 |         switch (key) {
  153 |             case 'reasonLabel': return this.reasonLabel;
  154 |             case 'nameLabel': return this.nameLabel;
  155 |             case 'emailLabel': return this.emailLabel;
  156 |             case 'phoneLabel': return this.phoneLabel;
  157 |             case 'messageLabel': return this.messageLabel;
  158 |             case 'createTicketLabel': return this.createTicketLabel;
  159 |             case 'confirmTCLabel': return this.confirmTCLabel;
  160 |             case 'submitButton': return this.submitBtn;
  161 |             case 'reasonPlaceholder': return this.reasonDropdown;
  162 |             case 'namePlaceholder': return this.nameField;
  163 |             case 'emailPlaceholder': return this.emailField;
  164 |             case 'phonePlaceholder': return this.phoneField;
  165 |             case 'messagePlaceholder': return this.messageField;
  166 |             case 'successMessage': return this.successMessage;
  167 |             case 'reasonError': return this.formReasonError;
  168 |             case 'nameError': return this.formNameError;
  169 |             case 'emailError': return this.formEmailError;
  170 |             case 'phoneError': return this.formPhoneError;
  171 |             case 'messageError': return this.messageError;
  172 |             case 'termsError': return this.termsError;
  173 |             case 'contactUs': return this.contactUs;
  174 |             case 'contactUsSubheader': return this.contactUsSubheader;
```